<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd">
    <changeSet author="jdunn" id="initial-1">
        <createTable tableName="types">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)"/>
        </createTable>
    </changeSet>
    <changeSet author="jdunn" id="initial-2">
        <createTable tableName="pets">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(30)"/>
            <column name="birth_date" type="date"/>
            <column name="type_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="owner_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jdunn" id="initial-3">
        <createTable tableName="owners">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="first_name" type="VARCHAR(30)"/>
            <column name="last_name" type="VARCHAR(30)"/>
            <column name="address" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(80)"/>
            <column name="telephone" type="VARCHAR(20)"/>
        </createTable>
    </changeSet>
    <changeSet author="jdunn" id="initial-4">
        <createTable tableName="vet_specialties">
            <column name="vet_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="specialty_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="jdunn" id="initial-5">
        <createTable tableName="specialties">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(80)"/>
        </createTable>
    </changeSet>
    <changeSet author="jdunn" id="initial-6">
        <createTable tableName="vets">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="first_name" type="VARCHAR(30)"/>
            <column name="last_name" type="VARCHAR(30)"/>
        </createTable>
    </changeSet>
    <changeSet author="jdunn" id="initial-7">
        <createTable tableName="visits">
            <column autoIncrement="true" name="id" type="INT">
                <constraints primaryKey="true"/>
            </column>
            <column name="pet_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="visit_date" type="date"/>
            <column name="description" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jdunn" id="initial-8">
        <addUniqueConstraint columnNames="vet_id, specialty_id" constraintName="vet_id" deferrable="false" disabled="false" initiallyDeferred="false" tableName="vet_specialties"/>
    </changeSet>
    <changeSet author="jdunn" id="initial-9">
        <addForeignKeyConstraint baseColumnNames="vet_id" baseTableName="vet_specialties" constraintName="vet_specialties_ibfk_1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="vets"/>
    </changeSet>
    <changeSet author="jdunn" id="initial-10">
        <addForeignKeyConstraint baseColumnNames="owner_id" baseTableName="pets" constraintName="pets_ibfk_1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="owners"/>
    </changeSet>
    <changeSet author="jdunn" id="initial-11">
        <addForeignKeyConstraint baseColumnNames="type_id" baseTableName="pets" constraintName="pets_ibfk_2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="types"/>
    </changeSet>
    <changeSet author="jdunn" id="initial-12">
        <addForeignKeyConstraint baseColumnNames="pet_id" baseTableName="visits" constraintName="visits_ibfk_1" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="pets"/>
    </changeSet>
    <changeSet author="jdunn" id="initial-13">
        <addForeignKeyConstraint baseColumnNames="specialty_id" baseTableName="vet_specialties" constraintName="vet_specialties_ibfk_2" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="specialties"/>
    </changeSet>
    <changeSet author="jdunn" id="initial-14">
        <createIndex indexName="types_name" tableName="types" unique="false">
            <column name="name"/>
        </createIndex>
    </changeSet>
    <changeSet author="jdunn" id="initial-15">
        <createIndex indexName="owners_last_name" tableName="owners" unique="false">
            <column name="last_name"/>
        </createIndex>
    </changeSet>
    <changeSet author="jdunn" id="initial-16">
        <createIndex indexName="vets_last_name" tableName="vets" unique="false">
            <column name="last_name"/>
        </createIndex>
    </changeSet>
    <changeSet author="jdunn" id="initial-17">
        <createIndex indexName="pets_name" tableName="pets" unique="false">
            <column name="name"/>
        </createIndex>
    </changeSet>
    <changeSet author="jdunn" id="initial-18">
        <createIndex indexName="specialties_name" tableName="specialties" unique="false">
            <column name="name"/>
        </createIndex>
    </changeSet>
    <!-- sample data follows -->
    <changeSet author="jdunn" id="dataload-1">
        <insert tableName="specialties">
            <column name="id" valueNumeric="3"/>
            <column name="name" value="dentistry"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-2">
        <insert tableName="specialties">
            <column name="id" valueNumeric="1"/>
            <column name="name" value="radiology"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-3">
        <insert tableName="specialties">
            <column name="id" valueNumeric="2"/>
            <column name="name" value="surgery"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-4">
        <insert tableName="owners">
            <column name="id" valueNumeric="1"/>
            <column name="first_name" value="George"/>
            <column name="last_name" value="Franklin"/>
            <column name="address" value="110 W. Liberty St."/>
            <column name="city" value="Madison"/>
            <column name="telephone" value="6085551023"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-5">
        <insert tableName="owners">
            <column name="id" valueNumeric="2"/>
            <column name="first_name" value="Betty"/>
            <column name="last_name" value="Davis"/>
            <column name="address" value="638 Cardinal Ave."/>
            <column name="city" value="Sun Prairie"/>
            <column name="telephone" value="6085551749"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-6">
        <insert tableName="owners">
            <column name="id" valueNumeric="3"/>
            <column name="first_name" value="Eduardo"/>
            <column name="last_name" value="Rodriquez"/>
            <column name="address" value="2693 Commerce St."/>
            <column name="city" value="McFarland"/>
            <column name="telephone" value="6085558763"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-7">
        <insert tableName="owners">
            <column name="id" valueNumeric="4"/>
            <column name="first_name" value="Harold"/>
            <column name="last_name" value="Davis"/>
            <column name="address" value="563 Friendly St."/>
            <column name="city" value="Windsor"/>
            <column name="telephone" value="6085553198"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-8">
        <insert tableName="owners">
            <column name="id" valueNumeric="5"/>
            <column name="first_name" value="Peter"/>
            <column name="last_name" value="McTavish"/>
            <column name="address" value="2387 S. Fair Way"/>
            <column name="city" value="Madison"/>
            <column name="telephone" value="6085552765"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-9">
        <insert tableName="owners">
            <column name="id" valueNumeric="6"/>
            <column name="first_name" value="Jean"/>
            <column name="last_name" value="Coleman"/>
            <column name="address" value="105 N. Lake St."/>
            <column name="city" value="Monona"/>
            <column name="telephone" value="6085552654"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-10">
        <insert tableName="owners">
            <column name="id" valueNumeric="7"/>
            <column name="first_name" value="Jeff"/>
            <column name="last_name" value="Black"/>
            <column name="address" value="1450 Oak Blvd."/>
            <column name="city" value="Monona"/>
            <column name="telephone" value="6085555387"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-11">
        <insert tableName="owners">
            <column name="id" valueNumeric="8"/>
            <column name="first_name" value="Maria"/>
            <column name="last_name" value="Escobito"/>
            <column name="address" value="345 Maple St."/>
            <column name="city" value="Madison"/>
            <column name="telephone" value="6085557683"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-12">
        <insert tableName="owners">
            <column name="id" valueNumeric="9"/>
            <column name="first_name" value="Meredith"/>
            <column name="last_name" value="Noble"/>
            <column name="address" value="2749 Blackhawk Trail"/>
            <column name="city" value="Madison"/>
            <column name="telephone" value="6085559435"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-13">
        <insert tableName="owners">
            <column name="id" valueNumeric="10"/>
            <column name="first_name" value="Carlos"/>
            <column name="last_name" value="Estaban"/>
            <column name="address" value="2335 Independence La."/>
            <column name="city" value="Waunakee"/>
            <column name="telephone" value="6085555487"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-14">
        <insert tableName="vets">
            <column name="id" valueNumeric="1"/>
            <column name="first_name" value="Adam"/>
            <column name="last_name" value="Jacob"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-15">
        <insert tableName="vets">
            <column name="id" valueNumeric="2"/>
            <column name="first_name" value="Helen"/>
            <column name="last_name" value="Leary"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-16">
        <insert tableName="vets">
            <column name="id" valueNumeric="3"/>
            <column name="first_name" value="Linda"/>
            <column name="last_name" value="Douglas"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-17">
        <insert tableName="vets">
            <column name="id" valueNumeric="4"/>
            <column name="first_name" value="Rafael"/>
            <column name="last_name" value="Ortega"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-18">
        <insert tableName="vets">
            <column name="id" valueNumeric="5"/>
            <column name="first_name" value="Henry"/>
            <column name="last_name" value="Stevens"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-19">
        <insert tableName="vets">
            <column name="id" valueNumeric="6"/>
            <column name="first_name" value="Sharon"/>
            <column name="last_name" value="Jenkins"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-20">
        <insert tableName="types">
            <column name="id" valueNumeric="5"/>
            <column name="name" value="bird"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-21">
        <insert tableName="types">
            <column name="id" valueNumeric="1"/>
            <column name="name" value="cat"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-22">
        <insert tableName="types">
            <column name="id" valueNumeric="2"/>
            <column name="name" value="dog"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-23">
        <insert tableName="types">
            <column name="id" valueNumeric="6"/>
            <column name="name" value="hamster"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-24">
        <insert tableName="types">
            <column name="id" valueNumeric="3"/>
            <column name="name" value="lizard"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-25">
        <insert tableName="types">
            <column name="id" valueNumeric="4"/>
            <column name="name" value="snake"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-26">
        <insert tableName="vet_specialties">
            <column name="vet_id" valueNumeric="2"/>
            <column name="specialty_id" valueNumeric="1"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-27">
        <insert tableName="vet_specialties">
            <column name="vet_id" valueNumeric="5"/>
            <column name="specialty_id" valueNumeric="1"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-28">
        <insert tableName="vet_specialties">
            <column name="vet_id" valueNumeric="3"/>
            <column name="specialty_id" valueNumeric="2"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-29">
        <insert tableName="vet_specialties">
            <column name="vet_id" valueNumeric="4"/>
            <column name="specialty_id" valueNumeric="2"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-30">
        <insert tableName="vet_specialties">
            <column name="vet_id" valueNumeric="3"/>
            <column name="specialty_id" valueNumeric="3"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-31">
        <insert tableName="pets">
            <column name="id" valueNumeric="1"/>
            <column name="name" value="Leo"/>
            <column name="birth_date" valueDate="2000-09-07"/>
            <column name="type_id" valueNumeric="1"/>
            <column name="owner_id" valueNumeric="1"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-32">
        <insert tableName="pets">
            <column name="id" valueNumeric="2"/>
            <column name="name" value="Basil"/>
            <column name="birth_date" valueDate="2002-08-06"/>
            <column name="type_id" valueNumeric="6"/>
            <column name="owner_id" valueNumeric="2"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-33">
        <insert tableName="pets">
            <column name="id" valueNumeric="3"/>
            <column name="name" value="Rosy"/>
            <column name="birth_date" valueDate="2001-04-17"/>
            <column name="type_id" valueNumeric="2"/>
            <column name="owner_id" valueNumeric="3"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-34">
        <insert tableName="pets">
            <column name="id" valueNumeric="4"/>
            <column name="name" value="Jewel"/>
            <column name="birth_date" valueDate="2000-03-07"/>
            <column name="type_id" valueNumeric="2"/>
            <column name="owner_id" valueNumeric="3"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-35">
        <insert tableName="pets">
            <column name="id" valueNumeric="5"/>
            <column name="name" value="Iggy"/>
            <column name="birth_date" valueDate="2000-11-30"/>
            <column name="type_id" valueNumeric="3"/>
            <column name="owner_id" valueNumeric="4"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-36">
        <insert tableName="pets">
            <column name="id" valueNumeric="6"/>
            <column name="name" value="George"/>
            <column name="birth_date" valueDate="2000-01-20"/>
            <column name="type_id" valueNumeric="4"/>
            <column name="owner_id" valueNumeric="5"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-37">
        <insert tableName="pets">
            <column name="id" valueNumeric="7"/>
            <column name="name" value="Samantha"/>
            <column name="birth_date" valueDate="1995-09-04"/>
            <column name="type_id" valueNumeric="1"/>
            <column name="owner_id" valueNumeric="6"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-38">
        <insert tableName="pets">
            <column name="id" valueNumeric="8"/>
            <column name="name" value="Max"/>
            <column name="birth_date" valueDate="1995-09-04"/>
            <column name="type_id" valueNumeric="1"/>
            <column name="owner_id" valueNumeric="6"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-39">
        <insert tableName="pets">
            <column name="id" valueNumeric="9"/>
            <column name="name" value="Lucky"/>
            <column name="birth_date" valueDate="1999-08-06"/>
            <column name="type_id" valueNumeric="5"/>
            <column name="owner_id" valueNumeric="7"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-40">
        <insert tableName="pets">
            <column name="id" valueNumeric="10"/>
            <column name="name" value="Mulligan"/>
            <column name="birth_date" valueDate="1997-02-24"/>
            <column name="type_id" valueNumeric="2"/>
            <column name="owner_id" valueNumeric="8"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-41">
        <insert tableName="pets">
            <column name="id" valueNumeric="11"/>
            <column name="name" value="Elliot"/>
            <column name="birth_date" valueDate="2009-04-01"/>
            <column name="type_id" valueNumeric="1"/>
            <column name="owner_id" valueNumeric="9"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-42">
        <insert tableName="pets">
            <column name="id" valueNumeric="12"/>
            <column name="name" value="Lucky"/>
            <column name="birth_date" valueDate="2000-06-24"/>
            <column name="type_id" valueNumeric="2"/>
            <column name="owner_id" valueNumeric="10"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-43">
        <insert tableName="pets">
            <column name="id" valueNumeric="13"/>
            <column name="name" value="Dean"/>
            <column name="birth_date" valueDate="2002-06-08"/>
            <column name="type_id" valueNumeric="5"/>
            <column name="owner_id" valueNumeric="10"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-44">
        <insert tableName="visits">
            <column name="id" valueNumeric="1"/>
            <column name="pet_id" valueNumeric="7"/>
            <column name="visit_date" valueDate="2010-03-04"/>
            <column name="description" value="rabies shot"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-45">
        <insert tableName="visits">
            <column name="id" valueNumeric="2"/>
            <column name="pet_id" valueNumeric="8"/>
            <column name="visit_date" valueDate="2011-03-04"/>
            <column name="description" value="rabies shot"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-46">
        <insert tableName="visits">
            <column name="id" valueNumeric="3"/>
            <column name="pet_id" valueNumeric="8"/>
            <column name="visit_date" valueDate="2009-06-04"/>
            <column name="description" value="neutered"/>
        </insert>
    </changeSet>
    <changeSet author="jdunn" id="dataload-47">
        <insert tableName="visits">
            <column name="id" valueNumeric="4"/>
            <column name="pet_id" valueNumeric="7"/>
            <column name="visit_date" valueDate="2008-09-04"/>
            <column name="description" value="spayed"/>
        </insert>
    </changeSet>
</databaseChangeLog>
